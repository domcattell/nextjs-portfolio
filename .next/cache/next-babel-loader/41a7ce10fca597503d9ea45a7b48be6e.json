{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useContext } from 'react';\nimport { AuthContext, AuthActions } from '../context/contexts/auth.context';\nimport { useRouter } from 'next/router';\n\nconst WithAuth = AuthComponent => {\n  return () => {\n    const {\n      checkAuth\n    } = useContext(AuthActions);\n    const {\n      isAuthenticated\n    } = useContext(AuthContext);\n    const router = useRouter();\n    useEffect(() => {\n      checkAuth();\n    }, []);\n\n    const renderContent = () => {\n      if (isAuthenticated) {\n        return __jsx(AuthComponent, null);\n      } else {\n        router.push('/admin');\n      }\n    };\n\n    return __jsx(\"div\", null, renderContent());\n  };\n};\n\nexport default WithAuth;","map":{"version":3,"sources":["C:/Users/domin/Documents/domcattell/site/HOC/auth.hoc.js"],"names":["React","useEffect","useContext","AuthContext","AuthActions","useRouter","WithAuth","AuthComponent","checkAuth","isAuthenticated","router","renderContent","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,QAA6C,OAA7C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,kCAAzC;AACA,SAASC,SAAT,QAA0B,aAA1B;;AAEA,MAAMC,QAAQ,GAAIC,aAAD,IAAmB;AACnC,SAAO,MAAM;AACZ,UAAM;AAAEC,MAAAA;AAAF,QAAgBN,UAAU,CAACE,WAAD,CAAhC;AACA,UAAM;AAAEK,MAAAA;AAAF,QAAsBP,UAAU,CAACC,WAAD,CAAtC;AACM,UAAMO,MAAM,GAAGL,SAAS,EAAxB;AAEAJ,IAAAA,SAAS,CAAC,MAAM;AACZO,MAAAA,SAAS;AACZ,KAFQ,EAEP,EAFO,CAAT;;AAIA,UAAMG,aAAa,GAAG,MAAM;AACxB,UAAGF,eAAH,EAAoB;AAChB,eAAO,MAAC,aAAD,OAAP;AACH,OAFD,MAEO;AACHC,QAAAA,MAAM,CAACE,IAAP,CAAY,QAAZ;AACH;AACJ,KAND;;AAQJ,WAAO,mBAAMD,aAAa,EAAnB,CAAP;AACF,GAlBD;AAmBA,CApBD;;AAsBA,eAAeL,QAAf","sourcesContent":["import React, { useEffect, useContext } from 'react';\r\nimport { AuthContext, AuthActions } from '../context/contexts/auth.context';\r\nimport { useRouter } from 'next/router';\r\n\r\nconst WithAuth = (AuthComponent) => {\r\n\treturn () => {\r\n\t\tconst { checkAuth } = useContext(AuthActions);\r\n\t\tconst { isAuthenticated } = useContext(AuthContext);\r\n        const router = useRouter();\r\n        \r\n        useEffect(() => {\r\n            checkAuth();\r\n        },[]);\r\n\r\n        const renderContent = () => {\r\n            if(isAuthenticated) {\r\n                return <AuthComponent />\r\n            } else {\r\n                router.push('/admin')\r\n            }\r\n        }\r\n        \r\n    return <div>{renderContent()}</div>;\r\n\t};\r\n};\r\n  \r\nexport default WithAuth;\r\n"]},"metadata":{},"sourceType":"module"}