{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect } from 'react';\nimport { Form, Modal, Button, Container, Alert } from 'react-bootstrap';\nimport TextEditor from '../admin/TextEditor';\nimport useInputState from '../../hooks/useInputState';\nimport { ProjectsActions, ProjectsContext } from '../../context/contexts/projects.context';\nimport styles from '../../styles/components/admin_newproject.module.scss';\nimport useToggle from '../../hooks/useToggle';\n\nvar EditProject = function EditProject(props) {\n  var _useContext = useContext(ProjectsActions),\n      editProject = _useContext.editProject,\n      getProject = _useContext.getProject,\n      clearProjectMsg = _useContext.clearProjectMsg,\n      clearProject = _useContext.clearProject,\n      loadingProject = _useContext.loadingProject;\n\n  var _useContext2 = useContext(ProjectsContext),\n      projectsMsg = _useContext2.projectsMsg,\n      project = _useContext2.project,\n      loading = _useContext2.loading;\n\n  var _useToggle = useToggle(false),\n      _useToggle2 = _slicedToArray(_useToggle, 2),\n      projectLoaded = _useToggle2[0],\n      setProjectLoaded = _useToggle2[1];\n\n  var _useInputState = useInputState({\n    title: project.title\n  }),\n      _useInputState2 = _slicedToArray(_useInputState, 6),\n      projectDetails = _useInputState2[0],\n      handleChange = _useInputState2[1],\n      handleDesc = _useInputState2[2],\n      resetForm = _useInputState2[3],\n      fileChange = _useInputState2[4],\n      currentData = _useInputState2[5];\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n  };\n\n  var test = function test() {\n    setInterval(function () {\n      loadingProject();\n    }, 3000);\n  };\n\n  console.log(loading);\n  useEffect(function () {\n    // loadingProject();\n    test();\n    getProject(props.url);\n    console.log('halp');\n    return function () {\n      clearProject();\n      clearProjectMsg();\n    };\n  }, []);\n\n  var t = function t() {\n    if (loading == true) {\n      return __jsx(\"h1\", null, \"Loading...\");\n    } else {\n      return __jsx(\"h1\", null, \"Loaded\");\n    }\n  };\n\n  return __jsx(Modal, {\n    size: \"lg\",\n    show: props.show,\n    onHide: props.toggle,\n    centered: true,\n    style: {\n      zIndex: '9999'\n    }\n  }, __jsx(Modal.Header, {\n    closeButton: true\n  }, __jsx(Modal.Title, {\n    id: \"new-project\"\n  }, \"Edit \", props.title), t()), __jsx(Modal.Body, null, __jsx(Container, null, loading ? __jsx(Form, {\n    id: \"newProjectForm\",\n    onSubmit: handleSubmit\n  }, projectsMsg && __jsx(Alert, {\n    variant: \"warning\"\n  }, projectsMsg.msg), __jsx(Form.Group, null, __jsx(Form.Control, {\n    name: \"title\",\n    value: projectDetails.title || '',\n    onChange: handleChange,\n    type: \"text\" // placeholder=\"\"\n\n  })), __jsx(Form.Group, null, __jsx(Form.Control, {\n    name: \"code\",\n    value: projectDetails.code || '',\n    onChange: handleChange,\n    type: \"text\",\n    placeholder: \"\"\n  })), __jsx(Form.Group, null, __jsx(Form.Control, {\n    name: \"demo\",\n    value: projectDetails.demo || '',\n    onChange: handleChange,\n    type: \"text\",\n    placeholder: \"\"\n  })), __jsx(Form.Group, null, __jsx(TextEditor, {\n    value: projectDetails.description || '',\n    onChange: handleDesc\n  })), __jsx(Form.Group, null, __jsx(\"div\", {\n    className: styles.newproject__submit\n  }, __jsx(Button, {\n    variant: \"primary\",\n    type: \"submit\"\n  }, \"Create Project\"), __jsx(\"div\", {\n    className: styles.newproject__file\n  }, __jsx(Button, {\n    variant: \"outline-primary\"\n  }, \"Upload Image\"), __jsx(\"input\", {\n    type: \"file\",\n    name: \"projectImg\",\n    onChange: fileChange\n  }))))) : null)));\n};\n\nexport default EditProject;","map":{"version":3,"sources":["C:/Users/domin/Documents/domcattell/site/components/modals/EditProject.js"],"names":["React","useContext","useEffect","Form","Modal","Button","Container","Alert","TextEditor","useInputState","ProjectsActions","ProjectsContext","styles","useToggle","EditProject","props","editProject","getProject","clearProjectMsg","clearProject","loadingProject","projectsMsg","project","loading","projectLoaded","setProjectLoaded","title","projectDetails","handleChange","handleDesc","resetForm","fileChange","currentData","handleSubmit","e","preventDefault","test","setInterval","console","log","url","t","show","toggle","zIndex","msg","code","demo","description","newproject__submit","newproject__file"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react';\r\nimport { Form, Modal, Button, Container, Alert } from 'react-bootstrap';\r\nimport TextEditor from '../admin/TextEditor';\r\nimport useInputState from '../../hooks/useInputState';\r\nimport { ProjectsActions, ProjectsContext } from '../../context/contexts/projects.context';\r\nimport styles from '../../styles/components/admin_newproject.module.scss';\r\nimport useToggle from '../../hooks/useToggle';\r\n\r\nconst EditProject = (props) => {\r\n\tconst { editProject, getProject, clearProjectMsg, clearProject, loadingProject } = useContext(ProjectsActions);\r\n\tconst { projectsMsg, project, loading } = useContext(ProjectsContext);\r\n\tconst [ projectLoaded, setProjectLoaded ] = useToggle(false);\r\n\r\n\tconst [ projectDetails, handleChange, handleDesc, resetForm, fileChange, currentData ] = useInputState({title: project.title});\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t};\r\n\tconst test = () => {\r\n\t\tsetInterval(() => {\r\n\t\t\tloadingProject();\r\n\t\t}, 3000)\r\n\t}\r\n\r\n\tconsole.log(loading);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\t// loadingProject();\r\n\t\t\ttest();\r\n\t\t\tgetProject(props.url);\r\n\t\t\tconsole.log('halp');\r\n\t\t\treturn () => {\r\n\t\t\t\tclearProject();\r\n\t\t\t\tclearProjectMsg();\r\n\t\t\t};\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\t\r\n\tconst t = () => {\r\n\t\tif(loading == true) {\r\n\t\t\treturn <h1>Loading...</h1>\r\n\t\t} else {\r\n\t\t\treturn <h1>Loaded</h1>\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<Modal size=\"lg\" show={props.show} onHide={props.toggle} centered style={{ zIndex: '9999' }}>\r\n\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t<Modal.Title id=\"new-project\">Edit {props.title}</Modal.Title>\r\n\t\t\t\t{t()}\r\n\t\t\t</Modal.Header>\r\n\t\t\t<Modal.Body>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t\t{loading ? <Form id=\"newProjectForm\" onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t{projectsMsg && <Alert variant=\"warning\">{projectsMsg.msg}</Alert>}\r\n\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\t\t\t\t\tvalue={projectDetails.title || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t// placeholder=\"\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tname=\"code\"\r\n\t\t\t\t\t\t\t\t\tvalue={projectDetails.code || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tname=\"demo\"\r\n\t\t\t\t\t\t\t\t\tvalue={projectDetails.demo || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<TextEditor value={projectDetails.description || ''} onChange={handleDesc} />\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<div className={styles.newproject__submit}>\r\n\t\t\t\t\t\t\t\t\t<Button variant=\"primary\" type=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\tCreate Project\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<div className={styles.newproject__file}>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"outline-primary\">Upload Image</Button>\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"file\" name=\"projectImg\" onChange={fileChange} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Form> : null}\r\n\t\t\t\t</Container>\r\n\t\t\t</Modal.Body>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default EditProject;\r\n"]},"metadata":{},"sourceType":"module"}